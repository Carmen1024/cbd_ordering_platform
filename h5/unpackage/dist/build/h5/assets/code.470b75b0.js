import{D as e,K as s,M as a,L as n,_ as t,o as l,R as o,e as d,w as u,f as r,U as i,N as c,V as p,h as m,a5 as f,k as h,Y as v}from"./vendor.e8d4713a.js";import{g as b}from"./login.5ff3790d.js";const _=(s,a=1)=>new Promise(((n,t)=>{if(s.length<a){const s="填写有误";e({title:s,duration:2e3,icon:"error"}),t(s)}n(s)}));var V=t(s({props:{user:{type:Object,default:()=>({})},hasLogin:{type:Boolean,default:()=>!1}},setup(s){const t=a(!1),l=a("获取验证码"),o=n();function d(e){l.value=e+"秒后重新获取",setTimeout((()=>{e>1?d(--e):(l.value="获取验证码",t.value=!1)}),1e3)}return{sentContent:l,sendDisable:t,sendCode:async()=>{const a=s.user.phone;var n;await(n=a,new Promise(((s,a)=>{let t="";11!=n.length?t="填写11位手机号":/^1\d{10}$/.test(n)||(t="手机号不正确"),t&&(e({title:t,duration:2e3,icon:"error"}),a(t)),s(n)})));b({eq:{user_phone:a}}).then((e=>{const s=e.data;o.commit("setVerificationCodeKey",s),t.value=!t.value,d(60)}))}}},methods:{}}),[["render",function(e,s,a,n,t,b){const _=m,V=f,y=h,C=v;return l(),o(p,null,[d(y,{class:"user-container-item"},{default:u((()=>[d(_,null,{default:u((()=>[r("手机号")])),_:1}),d(V,{class:"uni-input",modelValue:e.user.phone,"onUpdate:modelValue":s[0]||(s[0]=s=>e.user.phone=s),type:"number",placeholder:"请输入手机号"},null,8,["modelValue"])])),_:1}),d(y,{class:"user-container-item"},{default:u((()=>[d(_,null,{default:u((()=>[r("验证码")])),_:1}),d(V,{class:"uni-input",modelValue:e.user.code,"onUpdate:modelValue":s[1]||(s[1]=s=>e.user.code=s),placeholder:"请输入验证码"},null,8,["modelValue"]),d(C,{size:"mini",disabled:e.sendDisable,class:i(e.sendDisable?"sendDisable":""),type:"primary",onClick:e.sendCode},{default:u((()=>[r(c(e.sentContent),1)])),_:1},8,["disabled","class","onClick"])])),_:1})],64)}],["__scopeId","data-v-68bccdd9"]]);export{V as c,_ as v};
