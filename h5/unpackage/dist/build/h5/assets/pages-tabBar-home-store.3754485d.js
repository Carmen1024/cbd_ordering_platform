import{_ as a,K as s,ae as t,M as e,C as o,W as l,o as n,R as i,e as r,w as c,d,V as u,T as _,P as f,f as m,s as h,D as k,h as p,k as g,N as b}from"./vendor.814d7eca.js";import{l as y,s as D,n as L,o as v}from"./index.e1c48d14.js";import{B as S}from"./backLayer.4c1c377c.js";var B=a(s({components:{BackLayer:S},onShow:function(a){this.getStoreList()},setup(){const a=t({title:"门店",backUrl:"/pages/tabBar/home/home"}),s=e(y().s_id),o=e([]);return{storeList:o,getStoreList:()=>{L().then((a=>{o.value=a.data}))},setDefault:a=>{const t=a._id;if(t==s.value)return void h({url:"/pages/tabBar/home/home"});v({set:{s_id:t}}).then((s=>{k({title:"设置成功",duration:2e3,icon:"none"});const{_id:t,a_id:e,s_name:o,s_code:l}=a;D("linkStore",JSON.stringify({s_id:t,r_g_id:e,store_name:o,store_code:l})),h({url:"/pages/tabBar/home/home"})}))},old_s_id:s,back:a}},methods:{lower:function(a){console.log(a)},update(a){this.toDetail({title:"编辑收货地址",item:a})},add(){this.toDetail({title:"新增收货地址"})},toDetail(a){D("storeDetail",JSON.stringify(a)),o({url:"/pages/store/detail"})}}}),[["render",function(a,s,t,e,o,h){const k=l("back-layer"),y=p,D=g;return n(),i(u,null,[r(k,{back:a.back},null,8,["back"]),r(D,{class:"store-container"},{default:c((()=>[a.storeList.length>0?(n(),d(D,{key:0,class:"storeList"},{default:c((()=>[(n(!0),i(u,null,_(a.storeList,((s,t)=>(n(),d(D,{class:"storeItem",onClick:t=>a.setDefault(s)},{default:c((()=>[r(D,{class:"title"},{default:c((()=>[r(D,{class:"left"},{default:c((()=>[r(y,{class:"name"},{default:c((()=>[m(b(s.s_name),1)])),_:2},1024),r(y,{class:"phone"},{default:c((()=>[m(b(s.s_a_phone),1)])),_:2},1024)])),_:2},1024),r(D,{class:"right"},{default:c((()=>[s._id==a.old_s_id?(n(),d(y,{key:0},{default:c((()=>[m("当前门店")])),_:1})):(n(),i("span",{key:1,class:"icon iconfont icon-right"}))])),_:2},1024)])),_:2},1024),r(D,{class:"content"},{default:c((()=>[m(b(s.s_addr),1)])),_:2},1024)])),_:2},1032,["onClick"])))),256))])),_:1})):(n(),d(D,{key:1,class:"noData"},{default:c((()=>[r(D,null,{default:c((()=>[f("span",{class:"icon iconfont icon-dituguanli"})])),_:1}),r(D,null,{default:c((()=>[r(y,null,{default:c((()=>[m("您还没有关联的门店")])),_:1})])),_:1})])),_:1}))])),_:1})],64)}],["__scopeId","data-v-58091f33"]]);export{B as default};
